<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>HealthGuard</title>
    <meta name="author" content="BBY25">

    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Hind&family=Oswald:wght@500&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300&family=Oswald:wght@500&display=swap"
        rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans&family=Open+Sans:wght@300;400&display=swap"
        rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans:wght@400;700&display=swap" rel="stylesheet">

    <!-- Firebase 9 CDNs -->

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0" crossorigin="anonymous">
    </script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/ui/4.8.1/firebase-ui-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-storage.js"></script>

    <!-- Link to the api keys for your firebase project -->
    <script src="./scripts/firebaseAPI.js"></script>

    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="./styles/style_index.css">
    <link rel="stylesheet" href="./styles/style_testresults.css">

    <style type="text/css">
        body {
            margin: 0;
            padding: 0;
        }
    </style>
</head>

<body>
    <div class="container">
        <!--Top Nav Bar-->
        <nav class="topnav">
            <div class="logo"></div>
            <!-- <span class="appname">HealthGuard</span> -->
            <i class="material-icons iphoto" style="font-size:30px;color:#7a7a7a">add_a_photo</i>
            <i class="material-icons iadd" style="font-size:30px;color:#7a7a7a">add_circle</i>
            <!--Hamberger menu & js to be included-->
            <a href="#" id="hamburgermenu">
                <i class="material-icons imenu" style="font-size:30px;color:#7a7a7a">menu</i>
            </a>
        </nav>
        <div id="menuLinks">
            <a href="#" class="insidemenu"><span>Information Centre</span></a>
            <a href="#" class="insidemenu"><span>Find Doctor Near Me</span></a>
            <a href="#" class="insidemenu"><span>App Settings</span></a>
        </div>

        <div class="main">
            <div class="user">
                <img src="profile.png" width="100px" alt="">
                <span id="getUsername"></span>
            </div>

            <!-- <div class="testresults">
                <i class="material-icons">science</i>
                <span>Test Results</span>
            </div> -->

            <a href="./upload.html" class="uploadresults">
                <i class="material-icons">upload_file</i>
                <span>Upload Test Result</span>
            </a>

            <a href="./viewresults.html" class="checkresults">
                <i class="material-icons">assessment</i>
                <span>Check Result</span>
            </a>

        </div>

        <div id="black">
        </div>
        <!--Bottom Nav Bar-->
        <footer class="bottomnav">
            <a href="./main.html" class="bottomicons bottom1">
                <i class="material-icons">home</i>
                <span>Home</span>
            </a>
            <a href="#" class="bottomicons bottom2">
                <i class="material-icons">event_available</i>
                <span>Schedule</span>
            </a>
            <a href="./testresults.html" class="bottomicons bottom3">
                <i class="material-icons">assignment</i>
                <span>Test Results</span>
            </a>
            <a href="./myProfile.html" class="bottomicons bottom4">
                <i class="material-icons">account_circle</i>
                <span>My Profile</span>
            </a>

        </footer>

        <!--------------------------------------------------->
        <!-- Your Javascript Libraries and scripts go here -->
        <!--------------------------------------------------->
        <script src="scripts/index.js"></script>
        <script>
            function insertName() {
                firebase.auth().onAuthStateChanged((user) => {
                    // Check if user is signed in:
                    if (user) {
                        // Do something for the current logged-in user here:
                        console.log(user.uid);
                        //go to the correct user document by referencing to the user uid
                        currentUser = db.collection("users").doc(user.uid);
                        //get the document for current user.
                        currentUser.get().then((userDoc) => {
                            var user_Name = userDoc.data().name;
                            console.log(user_Name);
                            //method #1:  insert with html only
                            document.getElementById("getUsername").innerHTML =
                            user_Name; //using javascript
                        });
                    } else {
                        // No user is signed in.
                    }
                });
            }
            insertName();
        </script>
    </div>
</body>

</html>