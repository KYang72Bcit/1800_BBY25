<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>HealthGuard</title>
    <meta name="author" content="BBY25">

    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!--Icon-->
    <link href="./images/favicon.ico" rel="icon" type="image/x-icon" />

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Hind&family=Oswald:wght@500&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300&family=Oswald:wght@500&display=swap"
        rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans&family=Open+Sans:wght@300;400&display=swap"
        rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans:wght@400;700&display=swap" rel="stylesheet">

    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

    <!-- self write stylesheet -->
    <link rel="stylesheet" href="./styles/style_responsive.css">
    <link rel="stylesheet" href="./styles/style_myProfile.css">

    <!-- Bootstrap -->
    <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
    rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
    crossorigin="anonymous"
    />
    
    <!-- self write stylesheet -->
    <link rel="stylesheet" href="./styles/style_dashboard.css">
    <!-- Firebase 8 CDNs-->

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0" crossorigin="anonymous">
    </script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/ui/4.8.1/firebase-ui-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-storage.js"></script>

    <!-- Link to the api keys for your firebase project -->
    <script src="./scripts/firebaseAPI.js"></script>


    <style type="text/css">
        body {
            margin: 0;
            padding: 0;
        }
    </style>
</head>

<body>

    <div class="container-fluid contain">
        <div class="row">
          <!-- Sidebar -->
          <div class="col-5 col-md-4 col-lg-3 col-xxl-2 p-0" id="menu" >
            <div
              class="flex p-3 sidebar"
              style=" height: 100vh; background-color: rgb(44, 64, 88)"
            >
            <!-- min-width: 280px; -->
              <div
                class="
                  d-flex
                  align-items-between
                  pb-3
                  mb-3
                  link-dark
                  text-decoration-none
                  border-bottom
                  title
                "
              >
                <img
                  src="images/logo.png"
                  alt="Health Guard Logo"
                  width="90"
                  height="96"
                  class="me-0 ms-0"
                  id="logo"
                />
                <span class="h2 m-3 text-light appname">Health Guard</span>
              </div>
              
                  <div class="d-grid gap-3 menus">
                    <button class="btn btn-info menubuttons" type="button" id="homeBtn"><img src="./images/home-3-fill.png" alt="home icon" class="bottomicons"/><span>Home</span></button>
                    <button class="btn btn-info menubuttons" type="button" id="calendarBtn"><img src="./images/calendar-event-fill.png" alt="calendar icon" class="bottomicons" /><span>Calendar</span></button>
                    <button class="btn btn-info menubuttons" type="button" id="resultsBtn"><img src="./images/folder-chart-fill.png" alt="test results icon" class="bottomicons" />
                      <span>Test Results</span></button>
                    <button class="btn btn-info menubuttons" type="button" id="screeningsBtn"><img src="./images/survey-fill.png" alt="screenings icon" class="bottomicons" />
                      <span>My Screenings</span></button>
                    <button class="btn btn-info menubuttons" type="button" id="profileBtn"><img src="./images/user-fill.png" alt="user icon" class="bottomicons" /> 
                      <span>My Profile</span></button>
                  </div>
                
            </div>
          </div>
  
          <!-- Dashboard -->
        
          <div class="col-7 col-md-8 col-lg-9 col-xxl-10 p-0 main">
            <div class="card" style="height: 100vh">
              <div class="card-body text-center py-4">
                  <div class="row maincontents">
                    <!-- THIS IS THE DIV FOR PROFILE PICTURE -->
                    <div class="row">
                      <div class="col-2"> 
                        <img src="?" id="???"> 
                      </div>
                  <!-- Greeting -->
                      <div class="col-8 col-md-5 col-lg-6 m-2 dashboardtitle">
                        <h1 class="text-start">Hello, <span id="username"></span></h1>
                      </div></div>
                    <div class="container">
                      <div class="row dashboardcards">
                          <div class="col-9 col-md-5 col-lg-4 m-2">
                              <div class="card border-3 border-info shadow maincarditem" style="height: 60vh">
                                <span id="getRecommendations"></span>
                                <span id="upcomingScreenings"></span>
                                  <!-- <h2>Upcoming Screenings: </h2>
                                  <ul class="list-group list-group-flush">
                                      <li class="list-group-item"><span class="fw-bold" id="screening1" >Dental Check up</span><br><span class="fw-light" id="screening1date">Friday, December 3, 2021</span></li>
                                      <li class="list-group-item"><span class="fw-bold" id="screening2">General Health Check up</span><br><span class="fw-light" id="screening2date">Monday, January 10, 2022</span></li>
                                      <li class="list-group-item"><span class="fw-bold" id="screening3">Pap Smear</span><br><span class="fw-light" id="screening3date">Thursday, January 20, 2022</span></li>
                                  
                                    </ul> -->
                              </div>
                          </div>
                          <div class="col-9 col-md-5 col-lg-4 m-2">
                            <div class="card border-3 border-info shadow maincarditem" style="height: 60vh">
                                <h2>Calendar: </h2>
                                <ul class="list-group list-group-flush">
                                  <li class="list-group-item"><span class="fw-bold">Calendar Widget will go here</span></li>
                               
                                  </ul>
                            </div>
                        </div>
                      </div>
                    </div>
  
                  </div>
  
  
  
              </div>
            </div>
          </div>
        </div>
      </div>

    <div class="container">
        <!--Menu Bar-->
        <div class="title">
            <img src="./images/logo.png" alt="logo" id="logo" />
            <span class="appname">Health Guard</span>
        </div>
        <!-- <div class="menus">
            <a href="./test.html" class="menubuttons">
                <img src="./images/home-3-fill.png" alt="home icon" class="bottomicons" />
                <span>Home</span>
            </a>
            <a href="#" class="menubuttons">
                <img src="./images/calendar-event-fill.png" alt="calendar icon" class="bottomicons" />
                <span>Calendar</span>
            </a>
            <a href="./testresults.html" class="menubuttons">
                <img src="./images/folder-chart-fill.png" alt="test results icon" class="bottomicons" />
                <span>Test Results</span>
            </a>
            <a href="#" class="menubuttons">
                <img src="./images/survey-fill.png" alt="screenings icon" class="bottomicons" />
                <span>My Screenings</span>
            </a>
            <a href="./myProfile.html" class="menubuttons">
                <img src="./images/user-fill.png" alt="user icon" class="bottomicons" />
                <span>My Profile</span>
            </a>
        </div> -->

        <!-- main content -->
        <div class="main">
            <div class="user">
                <img src="profile.png" width="100px" alt="">
                <span id="username"></span>
                

            </div>
            <div class="basicInfo">
                <a href="basicInfo.html" class="functionBottom" >
                    <i class="material-icons"> face</i>
                    <span>Basic Information</span>
                </a>

            </div>
            <div class="fuctions">
                <a href="#" class="functionBottom">
                    <i class="material-icons">event_available</i>
                    <span>Schedule</span>
                </a>
                <a href="#" class="functionBottom">
                    <i class="material-icons">playlist_add_check_circle</i>
                    <span>My Screening</span>
                </a>
                <a href="testresults.html" class="functionBottom">
                    <i class="material-icons">assignment</i>
                    <span>Test Results</span>
                </a>
                <a href="#" class="functionBottom">
                    <i class="material-icons">mode_edit_outline</i>
                    <span>Self-Assessment</span>
                </a>

            </div>



        </div>


    </div>

    <!--------------------------------------------------->
    <!-- Your Javascript Libraries and scripts go here -->
    <!--------------------------------------------------->

    <script src="scripts/index.js"></script>

    <script> 
    function insertName() {
      firebase.auth().onAuthStateChanged((user) => {
        // Check if user is signed in:
        if (user) {
          // Do something for the current logged-in user here:
          console.log(user.uid);
          //go to the correct user document by referencing to the user uid
          currentUser = db.collection("users").doc(user.uid);
          //get the document for current user.
          currentUser.get().then((userDoc) => {
            var user_Name = userDoc.data().name;
            console.log(user_Name);
            //method #1:  insert with html only
            // document.getElementById("username").innerText = n;    //using javascript
            //method #2:  insert using jquery
            $("#username").text(user_Name); //using jquery
          });
        } else {
          // No user is signed in.
        }
      });
    }
    insertName();
    
    </script>

</body>

</html>